{"ast":null,"code":"var _jsxFileName = \"F:\\\\Egyetem\\\\agilis\\\\git\\\\front-end\\\\ClientApp\\\\src\\\\components\\\\Upload.js\";\nimport React, { Component } from 'react';\nimport { Container, Button, Input } from 'reactstrap';\nimport './Upload.css';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nexport class Upload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fileSelectedHandler = event => {\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.descriptionChanged = event => {\n      this.setState({\n        description: event.target.value\n      });\n    };\n\n    this.state = {\n      show: false,\n      selectedFile: null,\n      description: null\n    };\n  }\n\n  upload() {\n    const fd = new FormData();\n    const token = localStorage.getItem('token');\n    console.log(token);\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    fd.append('PictureData', this.state.selectedFile);\n    fd.append('Description', this.state.description);\n    axios.post('https://localhost:44399/posts/', fd, config).then(res => {\n      console.log(res);\n\n      if (res.status === 200) {\n        toast.success('Képfeltöltés sikeres', {\n          position: \"bottom-right\"\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upload-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, \"K\\xE9pfelt\\xF6lt\\xE9s\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"upload__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \"V\\xE1lassz k\\xE9pet\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      onChange: this.fileSelectedHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"upload__title desc_label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, \"Le\\xEDr\\xE1s\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      onChange: this.descriptionChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      className: \"button-upload\",\n      color: \"primary\",\n      onClick: () => {\n        this.upload();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Felt\\xF6lt\\xE9s\")), /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\nUpload.displayName = Upload.name;","map":{"version":3,"sources":["F:/Egyetem/agilis/git/front-end/ClientApp/src/components/Upload.js"],"names":["React","Component","Container","Button","Input","axios","ToastContainer","toast","Upload","constructor","props","fileSelectedHandler","event","setState","selectedFile","target","files","descriptionChanged","description","value","state","show","upload","fd","FormData","token","localStorage","getItem","console","log","config","headers","Authorization","append","post","then","res","status","success","position","render","displayName","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Container, Button, Input} from 'reactstrap';\r\nimport './Upload.css';\r\nimport axios from 'axios'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport class Upload extends Component {\r\n    static displayName = Upload.name;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: false,\r\n            selectedFile: null ,\r\n            description: null \r\n        }\r\n    }\r\n\r\n    fileSelectedHandler = event => {\r\n        this.setState({\r\n            selectedFile: event.target.files[0]\r\n        })\r\n    }\r\n\r\n    descriptionChanged = event => {\r\n        this.setState({\r\n            description: event.target.value\r\n        })\r\n    }\r\n\r\n    upload() {\r\n        const fd = new FormData();\r\n        const token = localStorage.getItem('token');\r\n        console.log(token);\r\n        const config = {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n        };\r\n\r\n        fd.append('PictureData', this.state.selectedFile)\r\n        fd.append('Description', this.state.description)\r\n        axios.post('https://localhost:44399/posts/', fd,config)\r\n        .then(res => {\r\n            console.log(res);\r\n            if (res.status === 200){\r\n                toast.success('Képfeltöltés sikeres',{\r\n                    position: \"bottom-right\"});\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container>\r\n                <div className=\"upload-wrapper\">\r\n                    <h1 className=\"text-center page-header\">Képfeltöltés</h1>\r\n                    <div className=\"upload\">\r\n                        <h3 className=\"upload__title\">Válassz képet</h3>\r\n                        <Input type=\"file\" onChange={this.fileSelectedHandler}/>\r\n                    </div>\r\n                    <div className=\"description\">\r\n                        <h3 className=\"upload__title desc_label\" >Leírás</h3>\r\n                        <Input type=\"textarea\" onChange={this.descriptionChanged}/>\r\n                    </div>\r\n                    <Button className=\"button-upload\" color=\"primary\" onClick={() => {this.upload()}}>Feltöltés</Button>\r\n                </div>\r\n                <ToastContainer/>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}